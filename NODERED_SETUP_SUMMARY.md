# üìä –û—Ç—á–µ—Ç –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Node-RED UI

## üéØ –¶–ï–õ–¨
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ Node-RED –ø–æ –∞–¥—Ä–µ—Å—É `https://ncrag.voronkov.club/nodered` —Å –±–∞–∑–æ–≤–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π (admin:–ø–∞—Ä–æ–ª—å_nextcloud).

## üîÑ –ü–û–ü–´–¢–ö–ò –†–ï–®–ï–ù–ò–Ø

### 1Ô∏è‚É£ **–ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã**
- **–ü—Ä–æ–±–ª–µ–º–∞**: Traefik –Ω–µ –º–æ–∂–µ—Ç —Å–≤—è–∑–∞—Ç—å —Ä–æ—É—Ç–µ—Ä—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **–û—à–∏–±–∫–∞**: `Router nodered-ui cannot be linked automatically with multiple Services`

### 2Ô∏è‚É£ **–í—Ç–æ—Ä–∞—è –ø–æ–ø—ã—Ç–∫–∞ - –ï–¥–∏–Ω—ã–π —Å–µ—Ä–≤–∏—Å**
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ `nodered` –¥–ª—è –æ–±–æ–∏—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 3Ô∏è‚É£ **–¢—Ä–µ—Ç—å—è –ø–æ–ø—ã—Ç–∫–∞ - htpasswd —Ñ–∞–π–ª**
- **–ü–æ–¥—Ö–æ–¥**: –°–æ–∑–¥–∞–Ω–∏–µ `.htpasswd` —Ñ–∞–π–ª–∞ —Å bcrypt –∏ MD5 —Ö–µ—à–∞–º–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: Traefik —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª, –Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤—Å–µ –µ—â–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401

### 4Ô∏è‚É£ **–ß–µ—Ç–≤–µ—Ä—Ç–∞—è –ø–æ–ø—ã—Ç–∫–∞ - –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
- **–ü–æ–¥—Ö–æ–¥**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ inline `basicauth.users` –≤ labels
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í—Å–µ –µ—â–µ 401 –æ—à–∏–±–∫–∏

## üìã –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°

### ‚úÖ **–ß–¢–û –†–ê–ë–û–¢–ê–ï–¢:**
- Nextcloud –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- –í–µ–±—Ö—É–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ –∞–∫—Ç–∏–≤–Ω—ã
- Node-RED –ø–æ–ª—É—á–∞–µ—Ç –≤–µ–±—Ö—É–∫–∏ –Ω–∞ `/webhooks/nextcloud`
- Traefik –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

### ‚ùå **–ß–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢:**
- –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ Node-RED UI (`/nodered`)
- –ë–∞–∑–æ–≤–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Traefik
- –í–µ–±—Ö—É–∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404 (—Ö–æ—Ç—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

### üîç **–î–ò–ê–ì–ù–û–°–¢–ò–ö–ê:**

**–õ–æ–≥–∏ Traefik –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç:**
```
34.214.172.66 - - [23/Aug/2025:06:01:18 +0000] "GET /nodered HTTP/2.0" 401 17 "-" "-" 1 "nodered-ui@docker" "-" 0ms
35.165.178.116 - admin [23/Aug/2025:06:01:19 +0000] "GET /nodered HTTP/2.0" 401 17 "-" "-" 2 "nodered-ui@docker" "-" 0ms
```

**–ê–Ω–∞–ª–∏–∑:**
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (`nodered-ui@docker`)
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è (`admin` –≤ –ª–æ–≥–∞—Ö)
- –ù–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è 401

## üöÄ **–ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –†–ï–®–ï–ù–ò–Ø**

### –í–∞—Ä–∏–∞–Ω—Ç 1: Nginx Proxy
–°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π nginx –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –±–∞–∑–æ–≤–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ Node-RED.

### –í–∞—Ä–∏–∞–Ω—Ç 2: Traefik Forward Auth
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è Traefik.

### –í–∞—Ä–∏–∞–Ω—Ç 3: Node-RED –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ Node-RED —á–µ—Ä–µ–∑ `settings.js`.

### –í–∞—Ä–∏–∞–Ω—Ç 4: –û—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ–¥–¥–æ–º–µ–Ω
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ–¥–¥–æ–º–µ–Ω –¥–ª—è Node-RED –≤–º–µ—Å—Ç–æ –ø—É—Ç–∏.

## üí° **–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø**

**–°–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ —Å–∞–º–æ–º Node-RED, –∞ –Ω–µ –≤ Traefik.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å Traefik
- ‚úÖ –ë–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- ‚úÖ –ü—Ä–æ—â–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- ‚úÖ –ë–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
1. –°–æ–∑–¥–∞—Ç—å `settings.js` –¥–ª—è Node-RED
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `adminAuth` —Å —Ö–µ—à–µ–º –ø–∞—Ä–æ–ª—è
3. –û–±–Ω–æ–≤–∏—Ç—å docker-compose.yml –¥–ª—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
4. –£–±—Ä–∞—Ç—å Traefik –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é, –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é

## üìù **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò**

1. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é Node-RED**
2. **–£–ø—Ä–æ—Å—Ç–∏—Ç—å Traefik –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø**
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**